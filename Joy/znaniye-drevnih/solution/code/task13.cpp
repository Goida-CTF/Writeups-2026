#include "Ве_крест_крест.h"

внедрить хутор Русь;

целина беззнак(целина б)
{
    коли (б < 0) б = б + 256;
    воздать б;
}

целина длина_руны(целина первый_байт)
{
    коли ((первый_байт & 128) == 0) воздать 1;
    коли ((первый_байт & 224) == 192) воздать 2;
    коли ((первый_байт & 240) == 224) воздать 3;
    коли ((первый_байт & 248) == 240) воздать 4;
    воздать 1;
}

царь_батюшка_главный()
{
    вперёд_славяне;

    много_букав летопись;
    внемлить >> летопись;

    мерило всего = летопись.размер();

    коли (всего == 0)
    {
        молвить << 0;
        воздать ноль;
    }

    целина б0 = беззнак(летопись[0]);
    целина первая_длина = длина_руны(б0);
    коли ((мерило)первая_длина > всего) первая_длина = (целина)всего;

    целина счёт = 1;

    для (мерило место = (мерило)первая_длина; место < всего; )
    {
        целина т0 = беззнак(летопись[место]);
        целина текущая_длина = длина_руны(т0);
        коли (место + (мерило)текущая_длина > всего)
            текущая_длина = (целина)(всего - место);

        коли (текущая_длина == первая_длина)
        {
            целина совпало = правда;

            для (целина сдвиг = 0; сдвиг < первая_длина; ++сдвиг)
            {
                коли (летопись[(мерило)сдвиг] != летопись[место + (мерило)сдвиг])
                {
                    совпало = кривда;
                    бить_ящеров;
                }
            }

            коли (совпало == правда) ++счёт;
        }

        место = место + (мерило)текущая_длина;
    }

    молвить << счёт;
    воздать ноль;
}
